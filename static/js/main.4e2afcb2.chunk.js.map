{"version":3,"sources":["components/loader/Loader.module.css","components/searchbar/Searchbar.jsx","components/imageGallery/imgagGalleryItem/ImagaGalleryItem.jsx","services/articlesApi.js","components/loader/Loader.jsx","components/modal/Modal.jsx","components/imageGallery/button/Button.jsx","components/imageGallery/StartPage.jsx","components/imageGallery/ImageGallery.jsx","components/App.js","index.js","components/imageGallery/button/Button.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImagaGalleryItem","article","onHandleClick","onClick","src","webformatURL","alt","tags","data-url","largeImageURL","searchQuery","page","key","axios","get","then","response","data","hits","Spinner","styles","loader","color","height","width","Modal","img","Button","onFetchArticles","Wrap","StartPage","style","textAlign","ImageGallery","articles","loading","error","fetchArticles","articlesApi","prevState","handScroll","catch","finally","toggleModal","url","dataset","handleKeyEsc","code","handleClick","nodeName","window","scrollTo","top","document","documentElement","scrollHeight","behavior","handleSearchSubmit","query","addEventListener","prevProps","console","log","removeEventListener","title","message","length","map","id","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4e2afcb2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1uQi3\"};","import React, { Component } from 'react';\n\nexport default class Searchbar extends Component {\n    state = {\n        inputValue: '',\n    };\n\n    handleChange = e => {\n        this.setState({ inputValue: e.target.value });\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.onSubmit(this.state.inputValue);\n        this.setState({ inputValue: '' });\n    };\n\n    render() {\n        return (\n            <header className=\"Searchbar\">\n                <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n                    <button type=\"submit\" className=\"SearchForm-button\">\n                        <span className=\"SearchForm-button-label\">Search</span>\n                    </button>\n\n                    <input\n                        className=\"SearchForm-input\"\n                        type=\"text\"\n                        value={this.state.inputValue}\n                        onChange={this.handleChange}\n                        autoComplete=\"off\"\n                        autoFocus=\"\"\n                        placeholder=\"Search images and photos\"\n                    />\n                </form>\n            </header>\n        );\n    }\n}\n","import React from 'react';\n\nconst ImagaGalleryItem = ({ article, onHandleClick }) => {\n    return (\n        <li className=\"ImageGalleryItem\" onClick={onHandleClick}>\n            <img\n                src={article.webformatURL}\n                alt={article.tags}\n                data-url={article.largeImageURL}\n                className=\"ImageGalleryItem-image\"\n            />\n        </li>\n    );\n};\nexport default ImagaGalleryItem;\n","import axios from 'axios';\n\n\nconst fetchArticlesWithQuery = (searchQuery, page = 0) => {\n    const key = '19535074-e31d7f60a5e9484c321caf15b';\n    return axios\n        .get(\n            ` https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n        )\n        .then(response => response.data.hits);\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { fetchArticlesWithQuery };\n","import React from 'react';\nimport styles from './Loader.module.css';\n\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Spinner = () => {\n    return (\n        <div className={styles.loader}>\n            <Loader type=\"Puff\" color=\"#00BFFF\" height={150} width={150} />\n        </div>\n    );\n};\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport Spinner from '../loader/Loader';\nimport './Modal.css';\n\nexport default class Modal extends Component {\n    render() {\n        return (\n            <div className=\"Overlay\" onClick={this.props.onHandleClick}>\n                {<Spinner /> && (\n                    <div className=\"Modal\">\n                        <img src={this.props.img} alt={this.props.alt} />\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport styles from './Button.module.css';\n\nconst Button = ({ onFetchArticles }) => {\n    return (\n        <div className={styles.Wrap}>\n            <button\n                className={styles.Button}\n                type=\"button\"\n                onClick={onFetchArticles}\n            >\n                Load more\n            </button>\n        </div>\n    );\n};\n\nexport default Button;\n","import React from 'react';\n\nconst StartPage = () => {\n    const styled = {\n        textAlign: 'center',\n        color: '#ccc',\n    };\n    return (\n        <div style={styled}>\n            <h1>Enter your first request</h1>\n        </div>\n    );\n};\n\nexport default StartPage;\n","// import React, { Component } from 'react';\n\n// import Searchbar from '../searchbar/Searchbar';\n// import ImagaGalleryItem from './imgagGalleryItem/ImagaGalleryItem';\n\n// import Loader from 'react-loader-spinner';\n// import articlesApi from '../../services/articlesApi';\n// import Modal from '../modal/Modal';\n\n// class ImageGallery extends Component {\n//     state = {\n//         articles: [],\n//         loading: false,\n//         error: null,\n//         largeImageURL: null,\n//     };\n\n//     toggleModal = url => {\n//         this.setState({ largeImageURL: url.target.dataset.url });\n//     };\n//     handleClick = e => {\n//         if (e.target.nodeName !== 'IMG') {\n//             this.setState({\n//                 largeImageURL: null,\n//             });\n//         }\n//     };\n\n//     componentDidMount() {\n//         // this.setState({ loading: true });\n//         // this.fetchArticles('cat');\n//     }\n\n//     fetchArticles = query => {\n//         articlesApi\n//             .fetchArticlesWithQuery(query)\n//             .then(articles => this.setState({ articles }))\n//             .catch(error => this.setState({ error }))\n//             .finally(() => this.setState({ loading: false }));\n//     };\n\n//     render() {\n//         const { articles, loading, error, largeImageURL } = this.state;\n//         return (\n//             <>\n//                 <h1>{this.props.title}</h1>\n\n//                 <Searchbar onSubmit={this.fetchArticles} />\n\n//                 {error && <p>Something went wrong: {error.message} </p>}\n\n//                 {loading && (\n//                     <Loader\n//                         type=\"Puff\"\n//                         color=\"#00BFFF\"\n//                         height={100}\n//                         width={100}\n//                     />\n//                 )}\n\n//                 {articles.length > 0 && (\n//                     <ul className=\"ImageGallery\">\n//                         {articles.map(article => (\n//                             <ImagaGalleryItem\n//                                 key={article.id}\n//                                 article={article}\n//                                 onHandleClick={this.toggleModal}\n//                             />\n//                         ))}\n//                     </ul>\n//                 )}\n\n//                 {largeImageURL && (\n//                     <Modal\n//                         img={largeImageURL}\n//                         onHandleClick={this.handleClick}\n//                     />\n//                 )}\n\n//                 {articles.length > 0 && (\n//                     <button type=\"button\">Load more</button>\n//                 )}\n//             </>\n//         );\n//     }\n// }\n\n// export default ImageGallery;\n\n///=====\n///=====\n///=====\n///=====\n\nimport React, { Component } from 'react';\n\nimport Searchbar from '../searchbar/Searchbar';\nimport ImagaGalleryItem from './imgagGalleryItem/ImagaGalleryItem';\n\n// import Loader from 'react-loader-spinner';\nimport articlesApi from '../../services/articlesApi';\nimport Modal from '../modal/Modal';\nimport Button from './button/Button';\nimport StartPage from './StartPage';\nimport Spinner from '../loader/Loader';\n\nclass ImageGallery extends Component {\n    state = {\n        articles: [],\n        loading: false,\n        error: null,\n        largeImageURL: null,\n        searchQuery: '',\n        page: 1,\n    };\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyEsc);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        console.log('componentDidUpdate :');\n        const prevQuery = prevState.searchQuery;\n        const nextQuery = this.state.searchQuery;\n\n        if (prevQuery !== nextQuery) {\n            this.fetchArticles();\n        }\n    }\n\n    fetchArticles = () => {\n        const { searchQuery, page } = this.state;\n        this.setState({ loading: true });\n\n        articlesApi\n            .fetchArticlesWithQuery(searchQuery, page)\n            .then(articles => {\n                this.setState(prevState => ({\n                    articles: [...prevState.articles, ...articles],\n                    page: prevState.page + 1,\n                }));\n                if (this.state.page > 2) {\n                    this.handScroll();\n                }\n            })\n            .catch(error => this.setState({ error }))\n            .finally(() => this.setState({ loading: false }));\n    };\n\n    toggleModal = url => {\n        this.setState({ largeImageURL: url.target.dataset.url });\n    };\n    handleKeyEsc = e => {\n        if (e.code === 'Escape') {\n            this.setState({ largeImageURL: null });\n        }\n    };\n\n    handleClick = e => {\n        if (e.target.nodeName !== 'IMG') {\n            this.setState({\n                largeImageURL: null,\n            });\n        }\n    };\n    handScroll = e => {\n        window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n        });\n    };\n\n    handleSearchSubmit = query => {\n        this.setState({\n            searchQuery: query,\n            page: 1,\n            articles: [],\n        });\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyEsc);\n    }\n\n    render() {\n        const { articles, loading, error, largeImageURL } = this.state;\n\n        return (\n            <>\n                <h2>{this.props.title}</h2>\n\n                <Searchbar onSubmit={this.handleSearchSubmit} />\n\n                {error && <p>Something went wrong: {error.message} </p>}\n\n                {articles.length === 0 && <StartPage />}\n\n                {articles.length > 0 && (\n                    <ul className=\"ImageGallery\">\n                        {articles.map(article => (\n                            <ImagaGalleryItem\n                                key={article.id}\n                                article={article}\n                                onHandleClick={this.toggleModal}\n                            />\n                        ))}\n                    </ul>\n                )}\n\n                {largeImageURL && (\n                    <Modal\n                        img={largeImageURL}\n                        onHandleClick={this.handleClick}\n                    />\n                )}\n\n                {loading && <Spinner />}\n\n                {articles.length > 0 && !loading && (\n                    <Button onFetchArticles={this.fetchArticles} />\n                )}\n            </>\n        );\n    }\n}\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport ImageGallery from './imageGallery/ImageGallery';\n\nexport default class App extends Component {\n    render() {\n        return (\n            <>\n                <ImageGallery title=\"Home Work #3 Image Finder\" />\n            </>\n        );\n    }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrap\":\"Button_Wrap__2p891\",\"Button\":\"Button_Button__2JFxz\"};"],"sourceRoot":""}